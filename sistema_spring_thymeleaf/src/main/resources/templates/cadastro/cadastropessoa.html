<!DOCTYPE html>
<html xmlns="http://www.w3.org/199/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="/materialize/css/materialize.min.css"  media="screen,projection"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Insert title here</title>
</head>
<body>
<div class="container">
	<h4>Curso de SpringBoot + Thymeleaf + Material Design Lite</h4>
	<div class="row col s12">
		<div class="col s6">
			<h5>Cadastro de Pessoas</h5>
		</div>
		<div class="col s6">
			<a href="/logout">
			  <i class="material-icons right">logout</i>
			</a>
		</div>
	</div>
	
	<br/>
		<div th:each = "m : ${msg}">
			<span th:text="${m}"></span>
		</div>
	<br/>

	   <form action="/salvarpessoa" method="POST" id="formpessoa" class="col s12" th:object="${pessoaobj}">
	     <div class="row">
           <div class="input-field col s1">
	         <input id="id" name="id" type="number" class="validate" th:field="*{id}" readonly="readonly">
	         <label for="id">Id</label>
	       </div>
	       <div class="input-field col s5">
	         <input id="nome" name="nome" type="text" class="validate" th:field="*{nome}">
	         <label for="nome">Nome</label>
	       </div>
	       <div class="input-field col s6">
	         <input id="sobrenome" name="sobrenome" type="text" class="validate" th:field="*{sobrenome}">
	         <label for="sobrenome">Sobrenome</label>
	       </div>
	     </div>
	     <div class="row">
	       <div class="input-field col s2">
	         <input id="idade" name="idade" type="number" class="validate" th:field="*{idade}">
	         <label for="idade">Idade</label>
	       </div>
	     </div>
		     
	   		<button class="btn waves-effect waves-light" type="submit" name="action">Salvar
			  <i class="material-icons right">save</i>
			</button>
			<button class="btn waves-effect waves-light" onclick="document.getElementById('formpessoa').reset();">Novo
			  <i class="material-icons right">add</i>
			</button>
	
	   </form>
	   <br>

	<hr>
	<div class="row">

	<form action="pesquisarpessoa" method="POST" class="col s12">
 	 <div class="row">
        <div class="input-field col s6">		        	
          <input id="nomepesquisa" name="nomepesquisa" type="text" class="validate">
          <label for="nomepesquisa">Pesquisa por nome</label>
        </div>

       	<button class="btn waves-effect waves-light" style="margin-top: 10px; font-size: 12px;" type="submit" name="action">Pesquisar
		  <i class="material-icons right">search</i>
		</button>
		<a class="waves-effect waves-light btn" style="margin-top: 10px; font-size: 12px;" href="/listapessoas">Lista Pessoas
			<i class="material-icons left">list</i>
		</a>
	      
      </div>
	</form>

	<table class="striped">
	<thead>
		<tr>
			<td>ID</td>
			<td>Nome</td>
			<td>Sobrenome</td>
			<td>Idade</td>
			<td>Ações</td>
		</tr>
	</thead>
		<tr th:each = "pessoa : ${pessoas}">
			<td th:text = "${pessoa.id}"></td>
			<td>
			<a th:href="@{/telefones/{idpessoa}(idpessoa=${pessoa.id})}">
				<span th:text = "${pessoa.nome}"></apan>
			</a>
			</td>
			<td th:text = "${pessoa.sobrenome}"></td>
			<td th:text = "${pessoa.idade}"></td>
			<td>
				<a th:href="@{/editarpessoa/{idpessoa}(idpessoa=${pessoa.id})}"><i class="material-icons left">edit</i></a>
				<a class="red-text text-darken-1" th:href="@{/removerpessoa/{idpessoa}(idpessoa=${pessoa.id})}"><i class="material-icons left">delete</i></a>
			</td>
		</tr>
	</table>
	   </div>    
</div>
	 <script type="text/javascript" src="/materialize/js/materialize.min.js"></script>
</body>
</html>